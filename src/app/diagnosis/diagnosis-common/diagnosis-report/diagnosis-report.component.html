<div id="final_report_div" style="padding: 2%;">
    <h2 style="text-align: center;"><b>遗传学测试(基因检测)报告</b></h2>
    <div id="basicinfo_div" class="mt-5">
        <nz-card>
            <ng-template #body>
                    <form nz-form [formGroup]="basicInfoForm" nzLayout="horizontal">
                        <div nz-form-item nz-row>
                            <div nz-form-label nz-col [nzSpan]="1"> 
                                <label>姓名</label>
                            </div>
                            <div nz-form-control nz-col [nzSpan]="3">
                                <nz-input formControlName="patientName" [nzType]="'text'" [nzSize]="'large'" [nzReadonly]="true"></nz-input>
                            </div>
                            <div nz-form-label nz-col [nzSpan]="3">
                                <label>就诊类型</label>
                            </div>
                            <div nz-form-control nz-col [nzSpan]="3">
                                <nz-input formControlName="treatmentType" [nzType]="'text'" [nzSize]="'large'" [nzReadonly]="true"></nz-input>
                            </div>
                            <div nz-form-label nz-col [nzSpan]="3">
                                <label>门诊号</label>
                            </div>
                            <div nz-form-control nz-col [nzSpan]="3">
                                <nz-input formControlName="patientID" [nzType]="'text'" [nzSize]="'large'" [nzReadonly]="true"></nz-input>
                            </div>
                            <div nz-form-label nz-col [nzSpan]="3">
                                <label>床号</label>
                            </div>
                            <div nz-form-control nz-col [nzSpan]="2">
                                <nz-input formControlName="patientNum" [nzType]="'text'" [nzSize]="'large'" [nzReadonly]="true"></nz-input>
                            </div>
                            <div nz-form-label nz-col [nzSpan]="2">
                                <label>召回号</label>
                            </div>
                            <div nz-form-control nz-col [nzSpan]="1">
                                <nz-input formControlName="recallID" [nzType]="'text'" [nzSize]="'large'" [nzReadonly]="true"></nz-input>
                            </div>
                        </div>
                        <div nz-form-item nz-row>
                            <div nz-form-label nz-col [nzSpan]="1">
                                <label>性别</label>
                            </div>
                            <div nz-form-control nz-col [nzSpan]="3">
                                <nz-input formControlName="gender" [nzType]="'text'" [nzSize]="'large'" [nzReadonly]="true"></nz-input>
                            </div>
                            <div nz-form-label nz-col [nzSpan]="3">
                                <label>样本类型</label>
                            </div>
                            <div nz-form-control nz-col [nzSpan]="3">
                                <nz-input formControlName="sampleType" [nzType]="'text'" [nzSize]="'large'" [nzReadonly]="true"></nz-input>
                            </div>
                            <div nz-form-label nz-col [nzSpan]="3">
                                <label>申请科室</label>
                            </div>
                            <div nz-form-control nz-col [nzSpan]="3">
                                <nz-input formControlName="department" [nzType]="'text'" [nzSize]="'large'" [nzReadonly]="true"></nz-input>
                            </div>
                            <div nz-form-label nz-col [nzSpan]="3">
                                <label>临床诊断</label>
                            </div>
                            <div nz-form-control nz-col [nzSpan]="5">
                                <nz-input formControlName="miniDiagnosis" [nzType]="'text'" [nzSize]="'large'" [nzReadonly]="true"></nz-input>
                            </div>
                        </div>
                        <div nz-form-item nz-row>
                            <div nz-form-label nz-col [nzSpan]="1">
                                <label>年龄</label>
                            </div>
                            <div nz-form-control nz-col [nzSpan]="3">
                                <nz-input formControlName="age" [nzType]="'text'" [nzSize]="'large'" [nzReadonly]="true"></nz-input>
                            </div>
                            <div nz-form-label nz-col [nzSpan]="3">
                                <label>样本编号</label>
                            </div>
                            <div nz-form-control nz-col [nzSpan]="3">
                                <nz-input formControlName="sampleID" [nzType]="'text'" [nzSize]="'large'" [nzReadonly]="true"></nz-input>
                            </div>
                            <div nz-form-label nz-col [nzSpan]="3">
                                <label>申请医师</label>
                            </div>
                            <div nz-form-control nz-col [nzSpan]="3">
                                <nz-input formControlName="applicant" [nzType]="'text'" [nzSize]="'large'" [nzReadonly]="true"></nz-input>
                            </div>
                            <div nz-form-label nz-col [nzSpan]="3">
                                <label>申请项目</label>
                            </div>
                            <div nz-form-control nz-col [nzSpan]="5">
                                <nz-input formControlName="applicationItem" [nzType]="'text'" [nzSize]="'large'" [nzReadonly]="true"></nz-input>
                            </div>
                        </div>
                    </form>
            </ng-template>
        </nz-card>
        
    </div>
    <div id="clinical_synopsis_div" class="mt-3">
        <h4><b>临床信息：</b></h4>
    </div>
    <div id="detection_method_div" class="mt-3">
        <h4><b>检测方法：</b></h4>
    </div>
    <div id="diagnosis_result_div" class="mt-3">
        <h4><b>检测结果：</b></h4>
        <nz-table #nzResultTable [nzDataSource]="diagnosisResultData" [nzIsPagination]="false">
            <thead nz-thead>
                <tr>
                    <th nz-th [nzWidth]="'10%'" *ngFor="let theadItem of resultTheadArr">{{theadItem}}</th>
                    <th nz-th [nzWidth]="'10%'">操作</th>
                </tr>
            </thead>
            <tbody nz-tbody>
                <tr nz-tbody-tr *ngFor="let data of nzResultTable.data">
                    <td nz-td *ngFor="let theadItem of resultTheadArrEng">
                        <span *ngIf="editRow !== data.key">{{data[theadItem]}}</span>
                        <span *ngIf="editRow === data.key">
                            <nz-input [(ngModel)]="tempEditObject[data.key][theadItem]"></nz-input>
                        </span>
                    </td>
                    <td nz-td>
                        <span *ngIf="editRow !== data.key">
                            <a (click)="editResultTable(data)">编辑</a>
                        </span>
                        <span *ngIf="editRow === data.key">
                            <a (click)="saveResultTable(data)">保存</a>
                            <span nz-table-divider></span>
                            <nz-popconfirm nzTitle="确定取消吗？" (nzOnConfirm)="cancelResultTable(data)">
                              <a nz-popconfirm>取消</a>
                            </nz-popconfirm>
                        </span>
                    </td>
                </tr>
            </tbody>
        </nz-table>
    </div>
    <div id="diagnosis_conclusion_div" class="mt-3">
        <h4><b>检测结论：</b></h4>
    </div>
    <div id="omim_reference_div" class="mt-3">
        <h4><b>检测解释：</b></h4>
    </div>
    <div id="suggestion_div" class="mt-3">
        <h4><b>检测建议：</b></h4>
    </div>
</div>